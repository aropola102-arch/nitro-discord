<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
</head>
<body style="font-family:Arial;background:#0b1020;color:white;display:flex;align-items:center;justify-content:center;height:100vh">

<div style="width:320px;background:#111827;padding:20px;border-radius:12px">
  <h2>Login</h2>

  <input id="email" placeholder="Email" style="width:100%;padding:10px;margin:6px 0">
  <input id="password" type="password" placeholder="Password" style="width:100%;padding:10px;margin:6px 0">

  <button id="signup" style="width:100%;padding:10px;margin-top:8px">Sign up</button>
  <button id="login" style="width:100%;padding:10px;margin-top:6px">Login</button>

  <p id="msg"></p>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  import {
    getAuth,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword
  } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
  import {
    getFirestore,
    doc,
    setDoc
  } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

  // ðŸ”´ Ø­Ø· firebaseConfig Ù…Ø§Ù„Ùƒ Ù‡Ù†Ø§
  const firebaseConfig = {
    apiKey: "PASTE_API_KEY",
    authDomain: "PASTE_AUTH_DOMAIN",
    projectId: "PASTE_PROJECT_ID",
    appId: "PASTE_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  const email = document.getElementById("email");
  const password = document.getElementById("password");
  const msg = document.getElementById("msg");

  signup.onclick = async () => {
    try {
      const userCred = await createUserWithEmailAndPassword(
        auth,
        email.value,
        password.value
      );

      // âœ… Ù†Ø®Ø²Ù‘Ù† ÙƒÙ„Ù…Ø© Ø«Ø§Ø¨ØªØ© "pasword"
      await setDoc(doc(db, "users", userCred.user.uid), {
        email: email.value,
        password: "pasword"
      });

      msg.innerText = "âœ… Account created + pasword saved";
    } catch (e) {
      msg.innerText = e.message;
    }
  };

  login.onclick = async () => {
    try {
      await signInWithEmailAndPassword(auth, email.value, password.value);
      msg.innerText = "âœ… Logged in";
    } catch (e) {
      msg.innerText = e.message;
    }
  };
</script>

</body>
</html>
